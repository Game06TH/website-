{% extends "base.html" %}
{% block content %}
<div class="container">
  <h2 class="text-center mb-4">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
  {% if products %}
    <table class="table table-bordered mb-3">
      <thead class="table-light">
        <tr>
          <th>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
          <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
          <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
          <th>‡∏£‡∏ß‡∏°</th>
          <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
          <tr>
            <td>{{ product.name }}</td>
            <td>
              <form method="post" action="{{ url_for('update_cart', product_id=product.id) }}" class="d-flex">
                <input type="number" name="quantity" value="{{ product.quantity }}" min="0" class="form-control form-control-sm me-2" style="width: 80px;">
                <button class="btn btn-sm btn-primary" type="submit">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</button>
              </form>
            </td>
            <td>{{ product.price }} ‡∏ö‡∏≤‡∏ó</td>
            <td>{{ product.subtotal }} ‡∏ö‡∏≤‡∏ó</td>
            <td>
              <form method="post" action="{{ url_for('update_cart', product_id=product.id) }}">
                <input type="hidden" name="quantity" value="0">
                <button class="btn btn-sm btn-danger" type="submit">‡∏•‡∏ö</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr>
          <td colspan="3" class="text-end"><strong>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:</strong></td>
          <td colspan="2"><strong>{{ total }} ‡∏ö‡∏≤‡∏ó</strong></td>
        </tr>
      </tfoot>
    </table>

    <div class="d-flex justify-content-between">
      <a href="{{ url_for('clear_cart') }}" class="btn btn-warning">‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</a>
      <a href="#" class="btn btn-success">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
    </div>
  {% else %}
    <p class="text-center text-muted">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>
  {% endif %}
</div>
{% endblock %}
